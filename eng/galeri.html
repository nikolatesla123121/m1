<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AlbaSpace – Gallery</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Общие стили хедера и футера -->
  <link rel="stylesheet" href="/assets/css/site.css" />
  <script src="/assets/js/include.js" defer></script>

  <style>
    :root {
      --header-bg: #020617;
      --accent: #00c2ff;
    }

    body{
      margin:0;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      background:url('/assets/images/space-bg.jpg') no-repeat center center fixed;
      background-size:cover;
      color:#ffffff;
    }

    /* ---------- PAGE WRAPPER ---------- */
    .page-wrapper{
      max-width:1100px;
      margin:70px auto 80px;
      padding:0 20px 40px;
    }

    .gallery-card{
      background:rgba(15,23,42,0.94);
      border-radius:26px;
      box-shadow:
        0 0 40px rgba(0,0,0,0.95),
        0 0 80px rgba(0,194,255,0.35);
      padding:26px 24px 32px;
      border:1px solid rgba(148,163,184,0.35);
      backdrop-filter:blur(10px);
      text-shadow:0 0 10px rgba(0,0,0,0.7);
    }

    .page-title{
      font-size:32px;
      margin-bottom:4px;
      text-align:center;
    }

    .page-sub{
      font-size:14px;
      color:#e5e7eb;
      margin-bottom:24px;
      text-align:center;
    }

    /* ---------- FOLDER ACCORDION ---------- */
    .folders{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:18px;
    }

    .folder{
      background:rgba(15,23,42,0.9);
      border-radius:18px;
      border:1px solid rgba(31,41,55,1);
      overflow:hidden;
      display:flex;
      flex-direction:column;
      box-shadow:0 12px 30px rgba(0,0,0,0.6);
    }

    .folder-header{
      padding:12px 16px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      cursor:pointer;
      background:linear-gradient(90deg,#020617,#0b1120,#020617);
      color:#e5e7eb;
    }

    .folder-title{
      font-size:14px;
      font-weight:600;
    }

    .folder-count{
      font-size:12px;
      color:#9ca3af;
    }

    .folder-toggle-icon{
      width:18px;
      height:18px;
      border-radius:999px;
      border:1px solid #4b5563;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:11px;
      margin-left:10px;
      background:rgba(15,23,42,0.9);
    }

    .folder.open .folder-toggle-icon{
      background:var(--accent);
      border-color:var(--accent);
      color:#020617;
    }

    .folder-body{
      max-height:0;
      overflow:hidden;
      transition:max-height .3s ease;
      background:radial-gradient(circle at top,rgba(15,23,42,0.98),rgba(15,23,42,0.9));
    }

    /* ---------- IMAGE GRID ---------- */
    .thumb-grid{
      padding:14px 12px 16px;
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(110px,1fr));
      gap:10px;
    }

    .thumb{
      background:rgba(15,23,42,0.95);
      border-radius:12px;
      padding:6px;
      box-shadow:0 6px 16px rgba(0,0,0,0.7);
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      cursor:pointer;
      border:1px solid rgba(31,41,55,1);
      transition:transform .15s ease-out, box-shadow .15s ease-out, border-color .15s ease-out;
    }

    .thumb:hover{
      transform:translateY(-3px);
      border-color:rgba(56,189,248,0.9);
      box-shadow:
        0 0 22px rgba(56,189,248,0.55),
        0 10px 26px rgba(0,0,0,0.9);
    }

    .thumb img{
      width:100%;
      border-radius:10px;
      display:block;
    }

    .thumb span{
      font-size:12px;
      margin-top:4px;
      color:#d1d5db;
    }

    @media(max-width:900px){
      .page-wrapper{
        margin-top:90px;
      }
    }

    /* ---------- LIGHTBOX (fullscreen viewer) ---------- */
    .lightbox-overlay{
      position:fixed;
      inset:0;
      background:rgba(0,0,0,0.92);
      display:none;
      align-items:center;
      justify-content:center;
      z-index:9999;
    }

    .lightbox-overlay.active{
      display:flex;
    }

    .lightbox-inner{
      position:relative;
      max-width:90vw;
      max-height:90vh;
      display:flex;
      flex-direction:column;
      align-items:center;
    }

    .lightbox-image{
      max-width:100%;
      max-height:80vh;
      border-radius:14px;
      box-shadow:0 20px 60px rgba(0,0,0,0.9);
    }

    .lightbox-caption{
      margin-top:10px;
      font-size:14px;
      color:#e5e7eb;
      text-align:center;
      text-shadow:0 0 10px rgba(0,0,0,1);
    }

    .lightbox-close{
      position:absolute;
      top:-40px;
      right:0;
      font-size:24px;
      color:#e5e7eb;
      cursor:pointer;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.7);
      background:rgba(15,23,42,0.92);
    }

    .lightbox-arrow{
      position:absolute;
      top:50%;
      transform:translateY(-50%);
      width:40px;
      height:40px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,0.7);
      background:rgba(15,23,42,0.92);
      color:#e5e7eb;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:22px;
      cursor:pointer;
      user-select:none;
    }

    .lightbox-arrow-left{ left:-60px; }
    .lightbox-arrow-right{ right:-60px; }

    @media(max-width:700px){
      .lightbox-arrow-left{ left:10px; }
      .lightbox-arrow-right{ right:10px; }
      .lightbox-close{ top:10px; right:10px; }
    }
  </style>
  <link rel="stylesheet" href="/assets/css/site.css" />
  <script src="/assets/js/include.js" defer></script>
  <script src="/assets/js/menu-toggle.js" defer></script>
  </head>
<body>
  <div data-include="/header-en.html"></div>

  <div class="page-wrapper">
    <div class="gallery-card">
      <h1 class="page-title">Gallery</h1>
      <p class="page-sub">
        Moments from our stratosphere flights, VR workshops and events.
      </p>

      <div class="folders">

        <!-- 1. Stratosphere Flights: 1–14 -->
        <div class="folder open">
          <div class="folder-header">
            <div>
              <div class="folder-title">Stratosphere Flights</div>
              <div class="folder-count">14 photos</div>
            </div>
            <div class="folder-toggle-icon">−</div>
          </div>
          <div class="folder-body">
            <div class="thumb-grid">
              <div class="thumb">
                <img src="/assets/images/1.jpg" alt="1">
                <span>1</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/2.jpg" alt="2">
                <span>2</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/3.jpg" alt="3">
                <span>3</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/4.jpg" alt="4">
                <span>4</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/5.jpg" alt="5">
                <span>5</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/6.jpg" alt="6">
                <span>6</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/7.jpg" alt="7">
                <span>7</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/8.jpg" alt="8">
                <span>8</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/9.jpg" alt="9">
                <span>9</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/10.jpg" alt="10">
                <span>10</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/11.jpg" alt="11">
                <span>11</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/12.jpg" alt="12">
                <span>12</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/13.jpg" alt="13">
                <span>13</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/14.jpg" alt="14">
                <span>14</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 2. VR -->
        <div class="folder">
          <div class="folder-header">
            <div>
              <div class="folder-title">VR</div>
              <div class="folder-count">2 photos</div>
            </div>
            <div class="folder-toggle-icon">+</div>
          </div>
          <div class="folder-body">
            <div class="thumb-grid">
              <div class="thumb">
                <img src="/assets/images/vr.jpg" alt="VR 1">
                <span>VR 1</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/vr1.jpg" alt="VR 2">
                <span>VR 2</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 3. Training & Events: 15–18 -->
        <div class="folder">
          <div class="folder-header">
            <div>
              <div class="folder-title">Training &amp; Events</div>
              <div class="folder-count">4 photos</div>
            </div>
            <div class="folder-toggle-icon">+</div>
          </div>
          <div class="folder-body">
            <div class="thumb-grid">
              <div class="thumb">
                <img src="/assets/images/15.jpg" alt="15">
                <span>15</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/16.jpg" alt="16">
                <span>16</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/17.jpg" alt="17">
                <span>17</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/18.jpg" alt="18">
                <span>18</span>
              </div>
            </div>
          </div>
        </div>

        <!-- 4. Press & Other Shots: 19–23 -->
        <div class="folder">
          <div class="folder-header">
            <div>
              <div class="folder-title">Press &amp; Other Shots</div>
              <div class="folder-count">5 photos</div>
            </div>
            <div class="folder-toggle-icon">+</div>
          </div>
          <div class="folder-body">
            <div class="thumb-grid">
              <div class="thumb">
                <img src="/assets/images/19.jpg" alt="19">
                <span>19</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/20.jpg" alt="20">
                <span>20</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/21.jpg" alt="21">
                <span>21</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/22.jpg" alt="22">
                <span>22</span>
              </div>
              <div class="thumb">
                <img src="/assets/images/23.jpg" alt="23">
                <span>23</span>
              </div>
            </div>
          </div>
        </div>

      </div><!-- /.folders -->
    </div><!-- /.gallery-card -->
  </div><!-- /.page-wrapper -->

  <!-- LIGHTBOX HTML -->
  <div class="lightbox-overlay" id="lightbox">
    <div class="lightbox-inner">
      <div class="lightbox-arrow lightbox-arrow-left" id="lightboxPrev">&#10094;</div>
      <img class="lightbox-image" id="lightboxImage" src="" alt="">
      <div class="lightbox-arrow lightbox-arrow-right" id="lightboxNext">&#10095;</div>
      <button class="lightbox-close" id="lightboxClose">&times;</button>
      <div class="lightbox-caption" id="lightboxCaption"></div>
    </div>
  </div>

  <!-- Логика аккордеона + лайтбокса -->
  <script>
    // Аккордеон для папок
    document.querySelectorAll('.folder').forEach(function(folder){
      const header = folder.querySelector('.folder-header');
      const body   = folder.querySelector('.folder-body');
      const icon   = folder.querySelector('.folder-toggle-icon');

      if (!header || !body || !icon) return;

      if (folder.classList.contains('open')) {
        body.style.maxHeight = body.scrollHeight + 'px';
        icon.textContent = '−';
      }

      header.addEventListener('click', function(){
        const isOpen = folder.classList.contains('open');
        if (isOpen){
          folder.classList.remove('open');
          body.style.maxHeight = 0;
          icon.textContent = '+';
        } else {
          folder.classList.add('open');
          body.style.maxHeight = body.scrollHeight + 'px';
          icon.textContent = '−';
        }
      });
    });

    // ---------- LIGHTBOX ----------
    const lightbox        = document.getElementById('lightbox');
    const lightboxImage   = document.getElementById('lightboxImage');
    const lightboxCaption = document.getElementById('lightboxCaption');
    const lightboxClose   = document.getElementById('lightboxClose');
    const lightboxPrev    = document.getElementById('lightboxPrev');
    const lightboxNext    = document.getElementById('lightboxNext');

    const thumbImgs = Array.from(document.querySelectorAll('.thumb img'));
    const images = thumbImgs.map(function(img){
      const captionEl = img.parentElement.querySelector('span');
      return {
        src: img.getAttribute('src'),
        alt: img.getAttribute('alt') || (captionEl ? captionEl.textContent : '')
      };
    });

    let currentIndex = 0;

    function openLightbox(index){
      currentIndex = index;
      showImage(currentIndex);
      lightbox.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox(){
      lightbox.classList.remove('active');
      document.body.style.overflow = '';
    }

    function showImage(index){
      const item = images[index];
      if (!item) return;
      lightboxImage.src = item.src;
      lightboxImage.alt = item.alt;
      lightboxCaption.textContent = item.alt || '';
    }

    function showNext(){
      currentIndex = (currentIndex + 1) % images.length;
      showImage(currentIndex);
    }

    function showPrev(){
      currentIndex = (currentIndex - 1 + images.length) % images.length;
      showImage(currentIndex);
    }

    thumbImgs.forEach(function(img, index){
      img.addEventListener('click', function(e){
        e.stopPropagation();
        openLightbox(index);
      });
      const captionEl = img.parentElement.querySelector('span');
      if (captionEl){
        captionEl.addEventListener('click', function(e){
          e.stopPropagation();
          openLightbox(index);
        });
      }
    });

    lightboxClose.addEventListener('click', function(e){
      e.stopPropagation();
      closeLightbox();
    });

    lightboxPrev.addEventListener('click', function(e){
      e.stopPropagation();
      showPrev();
    });

    lightboxNext.addEventListener('click', function(e){
      e.stopPropagation();
      showNext();
    });

    // клик по фону закрывает
    lightbox.addEventListener('click', function(e){
      if (e.target === lightbox){
        closeLightbox();
      }
    });

    // управление с клавиатуры
    document.addEventListener('keydown', function(e){
      if (!lightbox.classList.contains('active')) return;
      if (e.key === 'Escape'){
        closeLightbox();
      } else if (e.key === 'ArrowRight'){
        showNext();
      } else if (e.key === 'ArrowLeft'){
        showPrev();
      }
    });
  </script>

  <div data-include="/footer-en.html"></div>
</body>
</html>
